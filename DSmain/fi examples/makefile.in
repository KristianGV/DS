# Makefile for src/fi directory
# Author: Joakim Edsjo, edsjo@fysik.su.se
# Changed by Paolo Gondolo (2011), Joakim Edsjo (2013, 2014, 2015)
# This file is automatically created by makemf.pl.
# To aviod missing libraries this automatically created makefile.in     
# links to all libraries that could typically be needed. 
# If you use this makefile.in as a template for your own makefile
# you can of course delete the linking to not needed libraries.
#
# Define fortran compiler and options (set when ./configure is run
# in the DarkSUSY root directory).
FF=@F77@
FOPT=@FOPT@

CC=@CC@
COPT=@CFLAGS@

# Determine where DarkSUSY is installed
prefix=@prefix@
DS_INSTALL=${prefix}

LIB=$(DS_INSTALL)/lib
INC=-I./ -I$(DS_INSTALL)/src/include -I$(DS_INSTALL)/src_models/include -I$(DS_INSTALL)/contrib/include -I$(DS_INSTALL)/src/templates
INC_MODULE=-I$(DS_INSTALL)/src_models/src/include    

LIBDEPS=$(LIB)/libds_core.a $(LIB)/libds_src.a $(LIB)/libisajet.a
LIBS=-lds_core -lds_src -lds_src_user -lFH -lHB -lisospin -lisajet

all: test

test: test.f $(LIBDEPS)
	 $(FF) $(FOPT) $(INC) $(INC_MODULE) -L$(LIB) -o test test.f \
	 $(LIBS)

